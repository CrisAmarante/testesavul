<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PENSO - Prancheta eletr√¥nica</title>
    <link rel="icon" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- ====================== TELA PRINCIPAL ====================== -->
    <div id="main-screen" class="container">
        <header>
            <h1><i class="fas fa-clipboard-list"></i> Painel de Acessos</h1>
        </header>

        <a class="button" href="https://gruponso-my.sharepoint.com/personal/cristiano_santos_urubupunga_com_br/_layouts/15/onedrive.aspx?id=%2Fpersonal%2Fcristiano%5Fsantos%5Furubupunga%5Fcom%5Fbr%2FDocuments%2FRelat%C3%B3rios%20de%20ponto%5Fexcel%2FREL%5FFISCAIS%5FAVUL%28EM%20USO%29&ga=1">
            <i class="fas fa-file-excel"></i> IR PARA RELAT√ìRIOS DE FISCAL
        </a>

        <a class="button" id="btn-ideias" href="https://forms.office.com/r/DFBt9eC2pX">
            <i class="fas fa-lightbulb"></i> USINA DE IDEIAS
            <span class="tooltip">Registre sua ideia e concorra a pr√™mios</span>
        </a>

        <a class="button" id="btn-telefones" href="https://forms.office.com/r/Vr3tWmLyv2">
            <i class="fas fa-phone"></i> ATUALIZA√á√ÉO DE TELEFONES
            <span class="tooltip">Atualize seus dados de contato</span>
        </a>

        <a class="button" id="btn-clandestinos-rto" href="#">
            <i class="fas fa-ban"></i> CLANDESTINOS OSASCO e CAJAMAR
        </a>

        <a class="button" id="btn-inspecoes-5s" href="#">
            <i class="fas fa-clipboard-check"></i> INSPE√á√ïES DE 5S
        </a>

        <a class="button disabled" href="#">
            <i class="fas fa-bullhorn"></i> COMUNICA√á√ÉO INTERNA (EM CONSTRU√á√ÉO)
        </a>

        <a class="button" id="btn-segunda-tela" href="#">
            <i class="fas fa-lock"></i> INSPETORES >>>>
        </a>
    </div>

    <!-- ====================== TELA DE INSPETORES ====================== -->
    <div id="inspector-screen" class="container" style="display: none;">
        <header style="width: 100%; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
            <h1><i class="fas fa-user-shield"></i> Tela de Inspetores</h1>
            <div style="display: flex; gap: 10px;">
                <button onclick="voltarParaMain()" class="button" 
                        style="background-color:#666; min-width: auto; padding: 12px 20px;">
                    ‚Üê Voltar ao Painel
                </button>
                <button onclick="logoutInspector()" class="button" 
                        style="background-color:#d11a2d; min-width: auto; padding: 12px 20px;">
                    Sair
                </button>
            </div>
        </header>

        <p style="text-align:center; color:#333; font-size:18px; margin: 20px 0;">
            Bem-vindo, Inspetor!
        </p>

        <!-- COLOQUE AQUI OS LINKS DOS INSPETORES -->
        <a class="button" href="#">üìã Checklist de Inspe√ß√£o Di√°ria</a>
        <a class="button" href="#">üì∏ Enviar Fotos de Ve√≠culos</a>
        <a class="button" href="#">üìä Relat√≥rios de Ocorr√™ncias</a>
        <a class="button" href="#">üö® Notificar Irregularidades</a>
    </div>

    <!-- ====================== MODAL CLANDESTINOS ====================== -->
    <div id="modal-clandestinos-rto" class="modal">
        <div class="modal-content">
            <a class="button" href="https://forms.office.com/r/v4BMhNHbSR">
                <i class="fas fa-ban"></i> RUA MELVIN JONES - CLANDESTINOS
            </a>
            <a class="button" href="https://forms.office.com/r/JF8tPFysX6">
                <i class="fas fa-ban"></i> CLANDESTINOS - CAJAMAR
            </a>
        </div>
    </div>

    <!-- ====================== MODAL INSPE√á√ïES 5S ====================== -->
    <div id="modal-inspecoes-5s" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-inspecoes-5s')">&times;</span>
            <a class="button" id="btn-osasco" href="https://forms.office.com/r/bkeF1EwmNC">
                <i class="fas fa-clipboard-check"></i> 5S - FROTA DE OSASCO
            </a>
            <a class="button" id="btn-santana" href="https://forms.office.com/r/dhibquxks5">
                <i class="fas fa-clipboard-check"></i> 5S - FROTA SANTANA DE PARNA√çBA
            </a>
        </div>
    </div>

    <!-- ====================== MODAL LOGIN (S√ì SENHA) ====================== -->
    <div id="modal-login" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modal-login')">&times;</span>
            <h2 style="text-align:center; margin-bottom:20px;">üîê Acesso Inspetores</h2>
            
            <form id="login-form">
                <input type="password" id="password" placeholder="Digite a senha" required autofocus>
                <button type="submit" class="button" style="width:100%; margin-top:15px;">
                    Entrar
                </button>
            </form>
            
            <p id="login-error" style="color:red; text-align:center; display:none; margin-top:10px;">
                Senha incorreta!
            </p>
        </div>
    </div>

    <script>
        // ==================== C√ìDIGO ANTIGO (desativa√ß√£o de bot√µes + modais) ====================
        const disableDates = {
            'btn-osasco': new Date('2026-02-19'),
            'btn-santana': new Date('2026-02-03')
        };

        const now = new Date();
        for (const [id, date] of Object.entries(disableDates)) {
            const btn = document.getElementById(id);
            if (btn && now < date) {
                btn.classList.add('disabled');
                btn.setAttribute('href', '#');
                btn.setAttribute('title', `Dispon√≠vel ap√≥s ${date.toLocaleDateString()}`);
            }
        }

        const tooltipBtn = document.getElementById('btn-ideias');
        if (tooltipBtn) {
            tooltipBtn.addEventListener('touchstart', () => {
                tooltipBtn.classList.add('touch');
                setTimeout(() => tooltipBtn.classList.remove('touch'), 2000);
            });
        }

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        document.getElementById('btn-clandestinos-rto').addEventListener('click', (e) => {
            e.preventDefault();
            openModal('modal-clandestinos-rto');
        });

        document.getElementById('btn-inspecoes-5s').addEventListener('click', (e) => {
            e.preventDefault();
            openModal('modal-inspecoes-5s');
        });

        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('modal')) e.target.style.display = 'none';
        });

        // ==================== LOGIN COM LOCALSTORAGE (S√ì SENHA) ====================
        const SENHA_CORRETA = "123456";   // ‚Üê TROQUE AQUI pela senha desejada

        function checkLoginStatus() {
            if (localStorage.getItem('inspectorLoggedIn') === 'true') {
                document.getElementById('main-screen').style.display = 'none';
                document.getElementById('inspector-screen').style.display = 'flex';
            } else {
                document.getElementById('main-screen').style.display = 'flex';
                document.getElementById('inspector-screen').style.display = 'none';
            }
        }

        document.getElementById('btn-segunda-tela').addEventListener('click', (e) => {
            e.preventDefault();
            openModal('modal-login');
            document.getElementById('login-error').style.display = 'none';
            document.getElementById('password').focus();
        });

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const senha = document.getElementById('password').value.trim();

            if (senha === SENHA_CORRETA) {
                localStorage.setItem('inspectorLoggedIn', 'true');
                closeModal('modal-login');
                document.getElementById('main-screen').style.display = 'none';
                document.getElementById('inspector-screen').style.display = 'flex';
            } else {
                document.getElementById('login-error').style.display = 'block';
                document.getElementById('password').value = '';
            }
        });

        function voltarParaMain() {
            logoutInspector();
        }

        function logoutInspector() {
            localStorage.removeItem('inspectorLoggedIn');
            document.getElementById('inspector-screen').style.display = 'none';
            document.getElementById('main-screen').style.display = 'flex';
        }

        // Executa ao carregar a p√°gina
        window.addEventListener('load', checkLoginStatus);

        // Fechar modal com tecla ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") {
                document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
            }
        });
    </script>
</body>
</html>
